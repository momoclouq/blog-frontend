(this["webpackJsonpfrontend-public"]=this["webpackJsonpfrontend-public"]||[]).push([[0],{40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},71:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),r=s(18),a=s.n(r),i=(s(40),s(41),s(42),s(2)),o=s(7),l=s(5),u=s(0),j=function(){return Object(u.jsx)("footer",{className:"footer px-4",children:Object(u.jsxs)("div",{className:"level",children:[Object(u.jsx)("div",{className:"level-left",children:Object(u.jsx)("div",{className:"level-item has-text-dark",children:Object(u.jsxs)("p",{children:["Built by ",Object(u.jsx)("a",{className:"has-text-link",href:"https://github.com/momoclouq",children:Object(u.jsx)("strong",{children:"Momocloud"})})," using ",Object(u.jsx)("a",{className:"has-text-success",href:"https://bulma.io",children:"Bulma"})]})})}),Object(u.jsx)("div",{className:"level-right",children:Object(u.jsx)("div",{className:"level-item",children:Object(u.jsx)(o.b,{to:"/contact",children:"Contact developer"})})})]})})},d=s(9),b=s(4),h=s.n(b),m=s(6),O=s(8),p=s(14),x="https://blooming-tor-01512.herokuapp.com/",f=function(e){return p.create({baseURL:"https://blooming-tor-01512.herokuapp.com/",timeout:3e3,headers:{Authorization:"Bearer "+e}})},g=function(){var e=Object(m.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post(x+"signup",t);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(h.a.mark((function e(t){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.post(x+"login",t);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,e.next=3,f(s).post("logout");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,e.next=3,f(s).get("blogger/current");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=s(14),w="https://blooming-tor-01512.herokuapp.com/",C=function(){var e=Object(m.a)(h.a.mark((function e(t,s,n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t(s);case 3:return c=e.sent,e.abrupt("return",c);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n(e.t0.response.data));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,s,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.currentPage,n=t.mode,e.next=3,y.get(w+"blogger/?p="+s+"&m="+n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,y.get(w+"blogger/"+s);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,y.get(w+"blogger/"+s+"/heart");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=window.localStorage,A=Object(O.b)("user/signup",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(g,t,n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),D=Object(O.b)("user/login",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(v,t,n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),M=Object(O.b)("user/logout",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(N,{token:t},n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),U=Object(O.b)("user/loadCurrentUser",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(k,{token:t},n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),I=Object(O.b)("user/loadCurrentUserIni",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(k,{token:t},n);case 3:return c=e.sent,e.abrupt("return",{token:t,user:c});case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),R=Object(O.c)({name:"user",initialState:{isAuthenticated:!1,token:"",user:{},isSigningup:!1,isLoggingin:!1,isLoggingout:!1,hasErrorSignup:!1,hasErrorLogin:!1,hasErrorLogout:!1,signupSuccess:!1,logoutSuccess:!1,isLoadingCurrentUser:!1,hasErrorLoadingUser:!1,errorMessage:""},reducers:{turnOffSignupSuccess:function(e){e.signupSuccess=!1},turnOffLogoutSuccess:function(e){e.logoutSuccess=!1},resetData:function(e){e.isSigningup=!1,e.isLoggingin=!1,e.hasErrorLogin=!1,e.hasErrorSignup=!1,e.signupSuccess=!1,e.errorMessage=""},logoutCold:function(e){e.isAuthenticated=!1,e.token="",e.user={}}},extraReducers:function(e){e.addCase(A.pending,(function(e){e.isSigningup=!0,e.hasErrorSignup=!1})).addCase(A.fulfilled,(function(e,t){e.isSigningup=!1,e.hasErrorSignup=!1,e.signupSuccess=!0})).addCase(A.rejected,(function(e,t){e.isSigningup=!1,e.hasErrorSignup=!0,e.errorMessage=t.payload.error})).addCase(D.pending,(function(e){e.isLoggingin=!0,e.hasErrorLogin=!1})).addCase(D.fulfilled,(function(e,t){e.isLoggingin=!1,e.hasErrorLogin=!1,e.token=t.payload.data.token,e.isAuthenticated=!0,S.setItem("token",t.payload.data.token)})).addCase(D.rejected,(function(e,t){e.isLoggingin=!1,e.hasErrorLogin=!0,e.errorMessage=t.payload.error})).addCase(M.pending,(function(e,t){e.isLoggingout=!0,e.hasErrorLogout=!1})).addCase(M.fulfilled,(function(e,t){e.isLoggingout=!1,e.hasErrorLogout=!1,e.logoutSuccess=!0,e.isAuthenticated=!1,e.token="",e.user={},S.removeItem("token")})).addCase(M.rejected,(function(e,t){e.isLoggingin=!1,e.hasErrorLogout=!0})).addCase(U.pending,(function(e){e.isLoadingCurrentUser=!0,e.hasErrorLoadingUser=!1})).addCase(U.fulfilled,(function(e,t){e.isLoadingCurrentUser=!1,e.hasErrorLoadingUser=!1,e.user=t.payload.data})).addCase(U.rejected,(function(e){e.isLoadingCurrentUser=!1,e.hasErrorLoadingUser=!0,e.isAuthenticated=!1,e.token="",e.user={},S.removeItem("token")})).addCase(I.fulfilled,(function(e,t){e.token=t.payload.token,e.isAuthenticated=!0,e.user=t.payload.user})).addCase(I.rejected,(function(e){S.removeItem("token")}))}}),B=function(e){return e.user.errorMessage},W=function(e){return e.user.hasErrorSignup},T=function(e){return e.user.isSigningup},V=function(e){return e.user.signupSuccess},J=function(e){return e.user.hasErrorLogin},Y=function(e){return e.user.isLoggingin},Q=function(e){return e.user.isAuthenticated},H=function(e){return e.user.token},G=function(e){return e.user.user},z=function(e){return e.user.logoutSuccess},F=function(e){return e.user.isLoadingCurrentUser},Z=function(e){return e.user.hasErrorLoadingUser},X=R.actions,q=X.turnOffSignupSuccess,K=X.turnOffLogoutSuccess,_=X.resetData,$=X.logoutCold,ee=R.reducer,te=function(){return Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.b,{to:"/signup",className:"button is-link is-light",children:"Become a blogger"}),Object(u.jsx)(o.b,{to:"/login",className:"button is-light",children:"Log in"})]})},se=function(){var e=Object(i.b)(),t=Object(i.c)(H),s=Object(i.c)(G);return Object(n.useEffect)((function(){e(U(t))}),[]),Object(u.jsxs)("div",{className:"buttons",children:[Object(u.jsx)(o.b,{to:"/manage",className:"button is-link is-light",children:0===Object.keys(s).length?"Who are you?":"Hello ".concat(s.username)}),Object(u.jsx)("button",{onClick:function(){e(M(t))},className:"button is-dark",children:"Log out"})]})},ne=function(e){var t=e.active,s=e.setIsActive;return Object(u.jsxs)("button",{onClick:function(){s(!t)},className:"navbar-burger burger ".concat(t?"is-active":""),"aria-label":"menu","aria-expanded":"false","data-target":"navbarMenuMain",children:[Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"})]})},ce=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),s=t[0],c=t[1],r=Object(i.c)(Q)?Object(u.jsx)(se,{}):Object(u.jsx)(te,{});return Object(u.jsxs)("nav",{className:"navbar is-fixed-top",role:"navigation","aria-label":"main navigation",children:[Object(u.jsxs)("div",{className:"navbar-brand",children:[Object(u.jsxs)(o.b,{className:"navbar-item has-text-info-dark",to:"/",children:[Object(u.jsx)("i",{className:"fas fa-blog"}),Object(u.jsx)("span",{children:"Minh's blog"})]}),Object(u.jsx)(ne,{active:s,setIsActive:c})]}),Object(u.jsxs)("div",{className:"navbar-menu ".concat(s?"is-active":""),id:"navbarMenuMain",children:[Object(u.jsxs)("div",{className:"navbar-start",children:[Object(u.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(u.jsx)("div",{className:"navbar-link",children:"Post"}),Object(u.jsxs)("div",{className:"navbar-dropdown",children:[Object(u.jsx)(o.b,{to:"/post?m=latest",className:"navbar-item",children:"Latest"}),Object(u.jsx)(o.b,{to:"/post?m=popular",className:"navbar-item",children:"Popular"}),Object(u.jsx)("hr",{className:"navbar-divider"}),Object(u.jsx)(o.b,{to:"/post/search",className:"navbar-item",children:"Advance search"})]})]}),Object(u.jsxs)("div",{className:"navbar-item has-dropdown is-hoverable",children:[Object(u.jsx)("div",{className:"navbar-link",children:"Blogger"}),Object(u.jsxs)("div",{className:"navbar-dropdown",children:[Object(u.jsx)(o.b,{to:"/blogger?m=popular",className:"navbar-item",children:"Popular"}),Object(u.jsx)(o.b,{to:"/blogger?m=admin",className:"navbar-item",children:"Admin"}),Object(u.jsx)("hr",{className:"navbar-divider"}),Object(u.jsx)(o.b,{to:"/blogger/search",className:"navbar-item",children:"Advance search"})]})]})]}),Object(u.jsx)("div",{className:"navbar-end",children:Object(u.jsx)("div",{className:"navbar-item",children:r})})]})]})},re=function(e,t){return Math.ceil(e/t)},ae=function(e){var t=e.page,s=e.setPage,n=e.maxPage,c=e.maximum,r=function(){for(var e=[],n=function(n){e.push(Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){s(n)},className:"button is-light pagination-link ".concat(t==n?"is-current":""),"aria-label":"Go to page ".concat(n),children:n})},n))},r=1;r<=c;r++)n(r);return e}();return Object(u.jsx)("nav",{className:"pagination is-centered",role:"navigation","aria-label":"pagination",children:Object(u.jsxs)("ul",{className:"pagination-list",children:[r,c<n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){s(n)},className:"button is-light pagination-next",children:Object(u.jsx)("i",{className:"fas fa-angle-double-right"})})})]}):Object(u.jsx)(u.Fragment,{})]})})},ie=function(e){var t=e.page,s=e.setPage,n=e.maxPage,c=e.maximum,r=function(){for(var e=[],n=function(n){e.push(Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){s(n)},className:"button is-light pagination-link ".concat(t==n?"is-current":""),"aria-label":"Go to page ".concat(n),children:n})},n))},r=t-2;r<=c;r++)n(r);return e}();return Object(u.jsx)("nav",{className:"pagination is-centered",role:"navigation","aria-label":"pagination",children:Object(u.jsxs)("ul",{className:"pagination-list",children:[Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){s(1)},className:"button is-light pagination-previous",children:Object(u.jsx)("i",{className:"fas fa-angle-double-left"})})}),Object(u.jsx)("li",{children:Object(u.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),r,c<n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("li",{children:Object(u.jsx)("span",{className:"pagination-ellipsis",children:"\u2026"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{onClick:function(){s(n)},className:"button is-light pagination-next",children:Object(u.jsx)("i",{className:"fas fa-angle-double-right"})})})]}):Object(u.jsx)(u.Fragment,{})]})})},oe=function(e){var t=e.page,s=e.setPage,n=e.maxPage,c=Math.min(n,t+2);return t<4?Object(u.jsx)(ae,{page:t,setPage:s,maxPage:n,maximum:c}):Object(u.jsx)(ie,{page:t,setPage:s,maxPage:n,maximum:c})},le=function(e,t){return"/".concat(e,"/").concat(t)},ue=function(e){var t=e.children,s=e.to,c=e.colorStart,r=e.colorHover,a=e.addtionalStyle,i=void 0===a?null:a,l=Object(n.useRef)(null);Object(n.useEffect)((function(){l.current.style.color=c}),[]);return Object(u.jsx)(o.b,{ref:l,to:s,style:i,onMouseEnter:function(){l.current.style.color=r},onMouseLeave:function(){l.current.style.color=c},children:t})},je=function(e){var t=e.item,s=e.type;return Object(u.jsx)("div",{className:"column is-full",children:Object(u.jsxs)("div",{className:"box is-flex is-justify-content-space-between is-align-items-center",children:[Object(u.jsxs)("div",{className:"pr-4",children:[Object(u.jsxs)("div",{className:"title",children:[Object(u.jsx)(ue,{to:le(s,t._id),colorStart:"#000000",colorHover:"#643296",children:t.username}),t.is_admin?Object(u.jsx)("span",{className:"subtitle is-6",children:" [ADMIN]"}):""]}),Object(u.jsx)("div",{className:"subtitle",children:t.motto})]}),Object(u.jsxs)("div",{className:"is-flex is-flex-direction-column is-align-items-center",children:[Object(u.jsx)("div",{style:{color:"#ff003c"},children:Object(u.jsx)("i",{className:"fas fa-heart"})}),Object(u.jsx)("div",{children:t.heart})]})]})})},de=function(e){var t=e.data,s=e.type;return Object(u.jsx)("div",{className:"columns is-multiline",children:t.map((function(e,t){return Object(u.jsx)(je,{type:s,item:e},t)}))})},be=function(e){var t=e.title,s=e.subtitle,n=e.type;return Object(u.jsx)("div",{className:"hero ".concat(n),children:Object(u.jsxs)("div",{className:"hero-body",children:[Object(u.jsx)("p",{className:"title",children:t}),Object(u.jsx)("p",{className:"subtitle",children:s})]})})},he=function(){return new URLSearchParams(Object(l.g)().search)},me=Object(O.b)("blogger/loadBloggerList",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentPage,c=t.mode,r=s.rejectWithValue,e.next=4,C(L,{currentPage:n,mode:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Oe=Object(O.b)("blogger/loadBloggerDetail",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(E,{id:t},n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),pe=Object(O.b)("blogger/heartBlogger",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(P,{id:t},s);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),xe=Object(O.c)({name:"blogger",initialState:{bloggerList:{data:[],count:0},bloggerDetail:{},isLoadingList:!1,hasErrorList:!1,isLoadingDetail:!1,hasErrorDetail:!1,errorMessage:""},extraReducers:function(e){e.addCase(me.pending,(function(e){e.isLoadingList=!0,e.hasErrorList=!1})).addCase(me.fulfilled,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!1,e.bloggerList.data=t.payload.data.bloggers,e.bloggerList.count=t.payload.data.count})).addCase(me.rejected,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!0,e.errorMessage=t.payload.error})).addCase(Oe.pending,(function(e){e.isLoadingDetail=!0,e.hasErrorDetail=!1})).addCase(Oe.fulfilled,(function(e,t){e.isLoadingDetail=!1,e.hasErrorDetail=!1,e.bloggerDetail=t.payload.blogger})).addCase(Oe.rejected,(function(e,t){e.isLoadingDetail=!1,e.hasErrorDetail=!0,e.errorMessage=t.payload.error})).addCase(pe.fulfilled,(function(e,t){e.bloggerDetail.heart?e.bloggerDetail.heart+=1:e.bloggerDetail.heart=1}))}}),fe=function(e){return e.blogger.errorMessage},ge=function(e){return e.blogger.hasErrorList},ve=function(e){return e.blogger.isLoadingList},Ne=function(e){return e.blogger.bloggerList},ke=function(e){return e.blogger.hasErrorDetail},ye=function(e){return e.blogger.isLoadingDetail},we=function(e){return e.blogger.bloggerDetail},Ce=xe.reducer,Le=function(e){var t=e.title,s=e.error,n=void 0===s?null:s,c="";return c=Array.isArray(n)?n.map((function(e,t){return Object(u.jsxs)("div",{className:"subtitle",children:["Detail: ",e.msg," - for: ",e.param]},t)})):n?Object(u.jsxs)("div",{className:"subtitle",children:["Detail: ",n]}):"",Object(u.jsxs)("div",{className:"container p-4 p-4 is-flex is-flex-direction-column is-align-items-center",children:[Object(u.jsxs)("div",{className:"title mb-5",children:[t," ",Object(u.jsx)("i",{className:"fas fa-sad-tear"})]}),c]})},Ee=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot Load the bloggers",error:s})},Pe=function(e){var t=e.message;return Object(u.jsxs)("div",{className:"container p-4 is-flex is-flex-direction-column is-align-items-center",children:[Object(u.jsx)("div",{className:"loader is-loading mb-5"}),Object(u.jsx)("div",{className:"subtitle",children:t})]})},Se=function(){return Object(u.jsx)(Pe,{message:"Loading bloggers"})},Ae=function(){var e=Object(i.b)(),t=Object(i.c)(Ne),s=Object(i.c)(ve),c=Object(i.c)(ge),r=Object(i.c)(fe),a=Object(n.useState)(1),o=Object(d.a)(a,2),l=o[0],j=o[1],b=he().get("m"),h=function(e){return"popular"===e?{title:"Most popular bloggers",subtitle:"More hearts equal more popularity!",type:"is-success"}:"admin"===e?{title:"People who run the website",subtitle:"Can modify most functionalities of the website",type:"is-danger"}:{title:"Unknown search",subtitle:"Unknown search",type:"is-warning"}}(b);return Object(n.useEffect)((function(){e(me({currentPage:l,mode:b}))}),[l,b]),s?Object(u.jsx)(Se,{}):c?Object(u.jsx)(Ee,{error:r}):(console.log(t.count),Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsx)(be,{title:h.title,subtitle:h.subtitle,type:h.type}),Object(u.jsxs)("div",{className:"section p-5 has-background-light",children:[Object(u.jsx)(de,{type:"blogger",data:t.data}),Object(u.jsx)(oe,{page:l,setPage:j,maxPage:re(t.count,10)})]})]}))},De=function(e){var t=e.children;return Object(u.jsx)("article",{className:"block",children:t})},Me=function(){return Object(u.jsxs)("div",{className:"has-background-dark p-4",children:[Object(u.jsx)("p",{className:"has-text-link-light title mb-6",children:"Backend technologies"}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{className:"has-text-link-light",href:"https://expressjs.com",children:"ExpressJs"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{className:"has-text-link-light",href:"https://www.mongodb.com",children:"MongoDB - Atlas"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{className:"has-text-link-light",href:"https://mongoosejs.com",children:"Mongoose"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{className:"has-text-link-light",href:"https://www.passportjs.org",children:"PassportJs"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{className:"has-text-link-light",href:"https://express-validator.github.io/docs/",children:"Express-validator"})}),Object(u.jsx)("div",{className:"has-text-link-light mb-2",children:"And many more ..."}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{className:"has-text-link-light",href:"",children:"Github for private website (blogger to write post, etc)"})})]})},Ue=function(){return Object(u.jsxs)("div",{className:"has-background-light p-4",children:[Object(u.jsx)("p",{className:"title mb-6",children:"Frontend technologies"}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{href:"https://expressjs.com",children:"ReactJs"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{href:"https://redux.js.org",children:"Redux"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{href:"https://react-redux.js.org/introduction/getting-started",children:"React-redux"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{href:"https://bulma.io",children:"Bulma"})}),Object(u.jsx)("div",{className:"subtitle",children:Object(u.jsx)("a",{href:"https://sass-lang.com",children:"Sass"})}),Object(u.jsx)("div",{className:"mb-2",children:"And many more ..."}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"",children:"Github for public website (view post, etc)"})}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"",children:"Github for private website (blogger to write post, etc)"})})]})},Ie=function(){return Object(u.jsx)("div",{className:"container is-fluid ",children:Object(u.jsxs)("div",{className:"container mt-4",children:[Object(u.jsx)("div",{className:"title is-size-2",children:"About me"}),Object(u.jsxs)(De,{children:["My name is ",Object(u.jsx)("strong",{children:"Pham Hoang Minh"}),", a student of RMIT university Ho Chi Minh City"]}),Object(u.jsxs)(De,{children:["I have interests in web development in general and am striving to be a fullstack developer with the main stack: ",Object(u.jsx)("strong",{children:"React, Nodejs"})]}),Object(u.jsx)(De,{children:Object(u.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(u.jsx)("div",{className:"is-size-4 mr-4",children:"Email: phamhoangminh050899@gmail.com"}),Object(u.jsx)("div",{children:Object(u.jsx)("a",{href:"https://github.com/momoclouq",children:Object(u.jsx)("figure",{className:"image is-64x64",children:Object(u.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyRTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyRjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJDOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJEOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FYrpWAAABrNJREFUeNrkW2lsVFUUvjMWirYUkS5BXApUa2vd6gL+wAWjoP5RiW2EUBajAiqSuPADQ0w1UUQTrcFAUUSJEKriEuMWFKuJIElFSS24YNpQK6WoBbuAktbva880M8O8vnfevJm+CSf5cme599xzvnfffffce17AJFjycnLzUVwDXAgUAucBY4BMIEOqdQIdwJ/Az4J64OvWtoONibQvkACHgyiuBe4CbgLOjVNlE/AZsAmoBSE9viQAjueieBCYC5yVoAvWDKwHqkBEmy8IgON09lHgXmCESY4cBaqBlSCieUgIgOPDUCwBngBOM0MjXdL/CyDiv6QRAOcvR7EBKDL+kD3AbJBQl1AC4DjrLwaeBYYbf8m/ciu+BCJ6PScAzp+K4nXgTuNveQuYAxK6PSMAzo9C8TFwtUkN2Q7cDBIOx02AOP8FUGpSSzgf3GBHQsDGec7unwOTTWrKDiGhS02ATHjvALeb1JZ3gRlWE+MpVq0yMzIekRk/1YWP6o7Ors5vHI8AXH1Odl8BaTbKrwd4j10MTAduS8JqkKvA94BPgN0A56htNm2OMyDDKNhuSwCcT5dIrMBG6S4oLI1qezqKBcBjwGiPHW8HVgCr0W97VL/fobjMpv2vQAnaHgv/MdYVXurAeSNPhggRw56BQatRVgL3A0H5+xDwI8Dw9g/5Hlq+clmdDYwF8iV0zpb/GP2tApZHOx4m2xwQUCC+VVqOABg+AUUDkO6AgHkwaL2DJXORxPVNylUnw+gpXObaLXFRlxHoaw7U8uoXQ99vViNgqUPnKQfsKojhdW7GuxDW5JUtIuni432hH4JhLJ7Dq6qwcZiPZnpNXDJPfI0kQEJbjVM5PiIgW3nhlkQQILH9LGWnV/iIAK0ts8TngREwDchVKrnKRwRobckVnwcIKFcq4ONrkY8IWBT2SHUq5eEE3Khs/CRm6Z1+8V5sqVQ26/M5gHuhSJ79TqUFmIhOj/ppwQ8/Rshqb5yiWXFQFhsaWeU352UU0KaXlc2mBI1+Y3OzjyO/Gm2kSAIKFQ2awfQ+v3oP23gL/K5oUhh0GPiEZG8KxP97FHULgsqwtTUFCDioqHsGCRipaHA8BQjQrAcyg4roj5KVAgSMUtRNDyqVj0wBAlQ2koBuRf3xKUBAvqJuN1eCrYpAiHNAltNjpyFYDfL47oix38wdmDA5AvYr+kjzWRgcLVcqnKfsJwGNyk5u9TEBtyjrNwaVgRClTPKA/Db8aVOZslkDG2nD2vEuOkqGlLmYpHcGJLlJu8LjtvJFgx06Jvnq8xC33gUBeUE4waWjduua5wdVPrr6VS6cr6PvoXv5Ixed3g3mH/fB1V9OW1w07fM5IEouUEZR4bIWWJzsTRJ55r8I3ONSRRFs3hsIU8hkgkkulf0CPAx8qElQcuk4beYp9Epgoks138LOvqSPgfyAzIwMZlnFSobgIegc4H3gH6AkxmKDub9Mjb0DeoYDrZ1dne0eO14AvfPx8RXgAYaycahbBvt+GLgFpIM0md3PjqrMTMxpYKxB6p1v+s/n7bbSuMCqldmZyc+fRh9ND+IsAxrmG3C3qtj0J1uP84hLrnwnwJbjEQRIxzw0XB2jER93C9Bog9TjsRgzLpzuJr0BzHV6e8gwf9XoziqdCv1YE/oSTQBHwfem/3w+5syPxuukLtfdO0zk+WIs+YuPKLQ7ohzyWTIix3joPPMTLg1d/Yg5gIL7ogf32U/4WGGhYDr+34J6bUALPpPA62w6XYMOP9BaCv3HoD/PeJubODN6U/eEq4cKTIurttpBAZ4L+87TmKdtOt0ah8FbPXS+WnyLEKskqUy5FaweM5dA2e6w+pNkZuajhfMD3/zYBfDKb3Y6+cWwgytOL7bh98nQ73BEgHReIvd4Roy/a6Cs3CRYJOnq7zjV8HWcybC33mpLLKZIA84FPRYhcSokUNL2Civnjd0MjoZbUCy0+PtNkDDD5wQsFB8sxWm2+GJZd8eSt4HnZXnZ66Nb4CHYYxuxat4XmI1inbHeczskq77DMrK4z8AgK3+Q/L5EEMBn/PzQos0zAsQgvg5XY3TpNKOTSAD3NsrQX63TBqq9PVHM9NgvfXi/06ZSjfNqAoQEHj9Pled+pw8cpw2co6aKbSoJxDlJnYniKdP/sqSVrrEw7IBL/TnG+rSXEy7fYVoG/S1uffDkzVEYypB1qewJRCdb5rp9yxN6mQDZFmOS2wisCIXo8Yin7w7LiKiQEcFYfhOMnBmnzo1CLIO09Qyt47niJxDQ29trTmY56Qn4X4ABAFR7IoDmVT5NAAAAAElFTkSuQmCC",alt:"github icon"})})})})]})}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"title is-size-2",children:"About this project"}),Object(u.jsx)(De,{children:"This 'blog' website is among one of the projects in my portfolio. This website is made with:"}),Object(u.jsx)("div",{className:"hero is-medium",children:Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsx)("div",{className:"column is-half",children:Object(u.jsx)(Ue,{})}),Object(u.jsx)("div",{className:"column is-half",children:Object(u.jsx)(Me,{})})]})})]})})},Re=function(e){return e<10&&(e="0"+e),e},Be=function(e){var t=e.timeString,s=e.extraStyle,n=void 0===s?[]:s,c=new Date(t),r=function(){for(var e="",t=0;t<n.length;t++)e+=" "+n[t];return e}();return Object(u.jsxs)("span",{className:r,children:[Re(c.getHours()),":",Re(c.getMinutes())," - ",Re(c.getDate())+"/"+Re(c.getMonth()+1)+"/"+c.getFullYear()]})},We=function(e){var t=e.post;return Object(u.jsx)("div",{className:"column is-half",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"card-content",children:[Object(u.jsx)("div",{className:"title",children:Object(u.jsx)(ue,{to:"/post/".concat(t._id),colorStart:"#1f1f1f",colorHover:"#382fe0",children:t.title})}),Object(u.jsx)("div",{className:"subtitle mt-3",children:t.subtitle})]}),Object(u.jsxs)("footer",{className:"card-footer",children:[Object(u.jsx)("div",{className:"card-footer-item",children:Object(u.jsx)(ue,{to:"/blogger/".concat(t.author._id),colorStart:"#4b2b54",colorHover:"#1a111c",children:t.author.username})}),Object(u.jsx)(Be,{extraStyle:["card-footer-item"],timeString:t.date_created})]})]})})},Te=function(e){var t=e.posts;return Object(u.jsx)("div",{className:"columns is-7 is-multiline",children:t.map((function(e,t){return Object(u.jsx)(We,{post:e},t)}))})},Ve=s(14),Je="https://blooming-tor-01512.herokuapp.com/",Ye=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.currentPage,n=t.mode,e.next=3,Ve.get(Je+"post/published?p="+s+"&m="+n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,Ve.get(Je+"post/published/"+s);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=Object(O.b)("post/loadPostList",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentPage,c=t.mode,r=s.rejectWithValue,e.next=4,C(Ye,{currentPage:n,mode:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Ge=Object(O.b)("post/loadPostDetail",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(Qe,{id:t},n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),ze=Object(O.c)({name:"post",initialState:{postList:{data:[],count:0},postDetail:{},isLoadingList:!1,hasErrorList:!1,isLoadingDetail:!1,hasErrorDetail:!1,errorMessage:""},extraReducers:function(e){e.addCase(He.pending,(function(e){e.isLoadingList=!0,e.hasErrorList=!1})).addCase(He.fulfilled,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!1,e.postList.data=t.payload.data.posts,e.postList.count=t.payload.data.count})).addCase(He.rejected,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!1,e.errorMessage=t.payload.error})).addCase(Ge.pending,(function(e){e.isLoadingDetail=!0,e.hasErrorDetail=!1})).addCase(Ge.fulfilled,(function(e,t){e.isLoadingDetail=!1,e.hasErrorDetail=!1,e.postDetail=t.payload.data.post})).addCase(Ge.rejected,(function(e,t){e.isLoadingDetail=!1,e.hasErrorDetail=!0,e.errorMessage=t.payload.error}))}}),Fe=function(e){return e.post.errorMessage},Ze=function(e){return e.post.hasErrorList},Xe=function(e){return e.post.isLoadingList},qe=function(e){return e.post.postList},Ke=function(e){return e.post.hasErrorDetail},_e=function(e){return e.post.isLoadingDetail},$e=function(e){return e.post.postDetail},et=ze.reducer,tt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot load posts data",error:s})},st=function(){return Object(u.jsx)(Pe,{message:"loading posts"})},nt=function(){return Object(u.jsx)("section",{className:"hero is-info",children:Object(u.jsxs)("div",{className:"hero-body",children:[Object(u.jsx)("p",{className:"title",children:"Welcome to Minh's personal blog"}),Object(u.jsx)("p",{className:"subtitle",children:"Where you can share your ideas and news about everything (Mostly tech, anime/manga and kpop though)"})]})})},ct=function(){var e=Object(i.b)(),t=Object(i.c)(qe),s=Object(i.c)(Xe),c=Object(i.c)(Ze),r=Object(i.c)(Fe),a=Object(n.useState)(1),o=Object(d.a)(a,2),l=o[0],j=o[1];return Object(n.useEffect)((function(){e(He({currentPage:l,mode:"latest"}))}),[l]),c?Object(u.jsx)(tt,{error:r}):s?Object(u.jsx)(st,{}):Object(u.jsxs)("div",{className:"container custom-container",children:[1===l?Object(u.jsx)(nt,{}):"",Object(u.jsxs)("section",{className:"section has-background-light p-5",children:[Object(u.jsx)(Te,{posts:t.data}),Object(u.jsx)(oe,{page:l,setPage:j,maxPage:re(t.count,10)})]})]})},rt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)("div",{className:"box has-background-danger has-text-light",children:s||"Wrong username or password"})},at=function(e){var t=e.text;return Object(u.jsx)("label",{className:"label is-size-5",children:t})},it=function(e){var t=e.submitAction;return Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var s={username:e.target.username.value,password:e.target.password.value};t(s)},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Username"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"username",type:"text",placeholder:"Your username, not email!"})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"password",type:"password",placeholder:"Enter your password"})})]}),Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between is-align-content-center",children:[Object(u.jsx)(o.b,{to:"/signup",children:"Create an account now"}),Object(u.jsx)("button",{className:"button is-success",children:"Log in"})]})]})},ot=function(){return Object(u.jsx)(Pe,{message:"Logging in"})},lt=function(){var e=Object(i.b)(),t=Object(i.c)(Y),s=Object(i.c)(J),c=Object(i.c)(B),r=Object(i.c)(Q),a=Object(i.c)(z);Object(n.useEffect)((function(){e(_())}),[]);return r?Object(u.jsx)(l.a,{to:"/manage"}):t?Object(u.jsx)(ot,{}):(a&&setTimeout((function(){e(K())}),2e3),Object(u.jsx)("div",{className:"container is-fluid is-flex is-justify-content-center is-align-items-center p-5 has-background-light",children:Object(u.jsxs)("div",{className:"login-form-menu box has-background-white p-6",children:[a?Object(u.jsx)("div",{className:"box has-background-warning",children:"Logged out"}):"",s?Object(u.jsx)(rt,{error:c}):"",Object(u.jsx)("div",{className:"title has-text-link has-text-centered",children:"Login to start blogging"}),Object(u.jsx)(it,{submitAction:function(t){e(D(t))}})]})}))},ut=function(e){var t=e.children;return Object(u.jsx)("div",{className:"message is-info mb-2 is-size-5",children:Object(u.jsx)("div",{className:"message-body",children:t})})},jt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot load the post list",error:s})},dt=function(){return Object(u.jsx)(Pe,{message:"Loading posts"})},bt=function(e){return"popular"==e?Object(u.jsxs)(u.Fragment,{children:["Search posts for ",Object(u.jsx)("strong",{children:"most popular"})]}):"latest"==e?Object(u.jsxs)(u.Fragment,{children:["Search posts for ",Object(u.jsx)("strong",{children:"latest"})]}):"defaults"},ht=function(){var e=Object(i.b)(),t=Object(n.useState)(1),s=Object(d.a)(t,2),c=s[0],r=s[1],a=he().get("m"),o=Object(i.c)(qe),l=Object(i.c)(Xe),j=Object(i.c)(Ze),b=Object(i.c)(Fe);return Object(n.useEffect)((function(){e(He({currentPage:c,mode:a}))}),[c,a]),l?Object(u.jsx)(dt,{}):j?Object(u.jsx)(jt,{error:b}):Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsx)(ut,{children:bt(a)}),Object(u.jsxs)("section",{className:"section has-background-light p-5",children:[Object(u.jsx)(Te,{posts:o.data}),Object(u.jsx)(oe,{page:c,setPage:r,maxPage:re(o.count,10)})]})]})},mt=function(e){var t=e.submitAction,s=Object(n.useRef)(null);return Object(u.jsxs)("form",{ref:s,onSubmit:function(e){e.preventDefault();var n={username:s.current.username.value,email:s.current.email.value,password:s.current.password.value,motto:s.current.motto.value};t(n)},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Username"}),Object(u.jsxs)("div",{className:"control",children:[Object(u.jsx)("input",{className:"input is-medium is-link",type:"text",name:"username",placeholder:"Your username, not email!"}),Object(u.jsx)("div",{className:"help is-info",children:"* limit to 40 characters"})]})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Email"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",type:"text",name:"email",placeholder:"Your email please"})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Password"}),Object(u.jsxs)("div",{className:"control",children:[Object(u.jsx)("input",{className:"input is-medium is-link",type:"password",name:"password",placeholder:"Enter your password"}),Object(u.jsx)("div",{className:"help is-info",children:"* minimum 6 characters"})]})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Retype password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",type:"password",name:"repassword",placeholder:"retype your password"})})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"subtitle is-5 has-text-centered has-text-link",children:"Optional"}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Motto"}),Object(u.jsxs)("div",{className:"control",children:[Object(u.jsx)("input",{className:"input is-medium is-link",type:"text",name:"motto",placeholder:"your life motto!"}),Object(u.jsx)("div",{className:"help is-info",children:"* limit to 400 characters"})]})]}),Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between is-align-content-center",children:[Object(u.jsx)(o.b,{to:"/login",children:"Already registered? Log in"}),Object(u.jsx)("button",{type:"submit",className:"button is-success",children:"Create your account"})]})]})},Ot=function(){return Object(u.jsx)(Pe,{message:"Creating your account"})},pt=function(e){var t=e.error,s=void 0===t?null:t,n="";return n=Array.isArray(s)?s.map((function(e,t){return Object(u.jsxs)("li",{children:[e.msg," - for: ",e.param]},t)})):s?Object(u.jsx)("li",{children:s}):"",Object(u.jsxs)("div",{className:"box content",children:[Object(u.jsx)("div",{className:"title is-6 has-text-danger",children:"Errors in creating"}),Object(u.jsx)("ul",{children:n})]})},xt=function(){var e=Object(i.b)(),t=Object(i.c)(T),s=Object(i.c)(W),c=Object(i.c)(B),r=Object(i.c)(V),a=Object(i.c)(Q);return Object(n.useEffect)((function(){e(_())}),[]),a?Object(u.jsx)(l.a,{to:"/manage/account"}):t?Object(u.jsx)(Ot,{}):(r&&setTimeout((function(){e(q())}),2e3),Object(u.jsx)("div",{className:"container is-fluid is-flex is-justify-content-center is-align-items-center p-5 has-background-light",children:Object(u.jsxs)("div",{className:"register-form-menu box has-background-white p-6",children:[r?Object(u.jsx)("div",{className:"box mb-6 has-background-info subtitle has-text-light has-text-centered",children:"Account Created"}):"",Object(u.jsx)("div",{className:"title has-text-link has-text-centered",children:"Register to become a blogger"}),s?Object(u.jsx)(pt,{error:c}):"",Object(u.jsx)(mt,{submitAction:function(t){e(A(t))}})]})}))},ft=function(){return Object(u.jsx)("div",{className:"container custom-container",children:Object(u.jsx)("div",{children:"Not yet implemented"})})},gt=function(e){var t=e.bloggerid,s=Object(i.b)();return Object(u.jsx)("button",{onClick:function(){s(pe(t))},className:"button",children:"Give a heart"})},vt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot load the blogger information",error:s})},Nt=function(){return Object(u.jsx)(Pe,{message:"Loading blogger detail"})},kt=function(){var e=Object(i.b)(),t=Object(i.c)(we),s=Object(i.c)(ye),c=Object(i.c)(ke),r=Object(i.c)(fe),a=Object(l.h)().bloggerid;return Object(n.useEffect)((function(){e(Oe(a))}),[]),c?Object(u.jsx)(vt,{error:r}):s||0===Object.keys(t).length?Object(u.jsx)(Nt,{}):Object(u.jsx)("div",{className:"container is-fluid custom-container",children:Object(u.jsxs)("div",{className:"container p-4",children:[Object(u.jsxs)("div",{className:"title",children:[t.username," ",t.is_admin?Object(u.jsx)("span",{className:"subtitle is-6",children:" [ADMIN]"}):""]}),Object(u.jsxs)("div",{className:"subtitle",children:["Motto: ",t.motto]}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{className:"subtitle",children:["Email: ",t.email]}),Object(u.jsxs)("div",{className:"is-flex is-align-items-center",children:[Object(u.jsxs)("div",{className:"mr-4",children:[Object(u.jsx)("span",{style:{color:"#ff003c"},children:Object(u.jsx)("i",{className:"fas fa-heart"})}),"  ",t.heart]}),Object(u.jsx)("div",{children:Object(u.jsx)(gt,{bloggerid:a})})]})]})]})})},yt=function(){var e=Object(l.i)(),t=e.path;e.url;return Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:t,children:Object(u.jsx)(Ae,{})}),Object(u.jsx)(l.b,{exact:!0,path:"".concat(t,"/search"),children:Object(u.jsx)(ft,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/:bloggerid"),children:Object(u.jsx)(kt,{})})]})},wt=function(){return Object(u.jsx)("div",{className:"container custom-container",children:Object(u.jsx)("div",{children:"Not yet implemented"})})},Ct=s(14),Lt="https://blooming-tor-01512.herokuapp.com/",Et=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.postid,e.next=3,Ct.get(Lt+"post/"+s+"/comment");case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pt=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.postid,n=t.author,c=t.content,r={author:n,content:c},console.log(r),e.next=5,Ct.post(Lt+"post/"+s+"/comment",r);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St=Object(O.b)("comment/loadCommentList",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.rejectWithValue,e.next=3,C(Et,{postid:t},n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),At=Object(O.b)("comment/postComment",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.postid,c=t.author,r=t.content,a=s.rejectWithValue,console.log(n),e.next=5,C(Pt,{postid:n,author:c,content:r},a);case 5:return i=e.sent,e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Dt=Object(O.c)({name:"comment",initialState:{commentList:{data:[],count:0},isLoadingList:!1,hasErrorList:!1,isCreatingComment:!1,hasErrorCreating:!1,errorMessage:"",successMessage:""},extraReducers:function(e){e.addCase(St.pending,(function(e){e.isLoadingList=!0,e.hasErrorList=!1})).addCase(St.fulfilled,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!1,e.commentList.data=t.payload.data.comments,e.commentList.count=t.payload.data.count})).addCase(St.rejected,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!0,e.errorMessage=t.payload.error})).addCase(At.pending,(function(e){e.isCreatingComment=!0,e.hasErrorCreating=!1})).addCase(At.fulfilled,(function(e,t){e.isCreatingComment=!1,e.hasErrorCreating=!1,e.successMessage="Comment posted",e.commentList.data.push(t.payload.data.comment),e.commentList.count+=1})).addCase(At.rejected,(function(e,t){e.isCreatingComment=!1,e.hasErrorCreating=!0,e.errorMessage=t.payload.error}))}}),Mt=function(e){return e.comment.errorMessage},Ut=function(e){return e.comment.successMessage},It=function(e){return e.comment.hasErrorList},Rt=function(e){return e.comment.isLoadingList},Bt=function(e){return e.comment.commentList},Wt=function(e){return e.comment.hasErrorCreating},Tt=function(e){return e.comment.isCreatingComment},Vt=Dt.reducer,Jt=function(e){var t=e.comment;return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(u.jsx)("div",{className:"is-size-5 has-text-link",children:t.author}),Object(u.jsx)("div",{className:"has-text-grey is-size-7",children:Object(u.jsx)(Be,{timeString:t.date_created})})]}),Object(u.jsx)("div",{children:Object(u.jsx)("p",{children:t.content})})]})},Yt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot load the comments",error:s})},Qt=function(){return Object(u.jsx)(Pe,{message:"loading comments"})},Ht=function(e){var t=e.postid,s=Object(i.b)(),c=Object(i.c)(Bt),r=Object(i.c)(Mt),a=Object(i.c)(Rt),o=Object(i.c)(It);return Object(n.useEffect)((function(){s(St(t))}),[]),o?Object(u.jsx)(Yt,{error:r}):a?Object(u.jsx)(Qt,{}):Object(u.jsxs)("div",{className:"container mt-5",children:[Object(u.jsx)("div",{className:"subtitle is-uppercase",children:Object(u.jsx)("strong",{children:"Comments"})}),c.data.map((function(e,t){return null==e?"":Object(u.jsx)(Jt,{comment:e},t)}))]})},Gt=function(e){var t=e.post,s=Object(n.useRef)(null);return Object(n.useEffect)((function(){s.current.innerHTML=t.content}),[t]),Object(u.jsx)("div",{className:"container custom-container",children:Object(u.jsxs)("div",{className:"content pt-4",children:[Object(u.jsx)("div",{className:"title is-size-2",children:t.title}),Object(u.jsx)("div",{className:"subtitle",children:t.subtitle}),Object(u.jsxs)("div",{className:"has-text-weight-light block is-flex is-justify-content-space-between",children:[Object(u.jsxs)("p",{children:["Author: ",t.author.username]}),Object(u.jsxs)("div",{className:"is-flex is-flex-direction-column is-align-items-flex-end",children:[Object(u.jsxs)("div",{children:["View: ",t.view]}),Object(u.jsxs)("div",{children:["Added: ",Object(u.jsx)(Be,{timeString:t.date_created})]})]})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("div",{className:"block",ref:s}),Object(u.jsx)("hr",{})]})})},zt=function(e){var t=e.error,s=void 0===t?null:t;return Object(u.jsx)(Le,{title:"Cannot load post detail",error:s})},Ft=function(){return Object(u.jsx)(Pe,{message:"Loading post detail"})},Zt=function(e){var t=e.actionOnClick,s=Object(u.jsx)("i",{className:"fas fa-plus"}),c=Object(n.useState)(s),r=Object(d.a)(c,2),a=r[0],i=r[1];return Object(u.jsx)("button",{onClick:t,onMouseOver:function(){i("Post a new comment")},onMouseLeave:function(){i(s)},className:"button is-success is-light is-medium is-outlined is-rounded",children:a})},Xt=function(e){var t=e.postid,s=e.actionOnClick,n=e.submitAction,c=e.additionalActions,r=Object(i.b)(),a=Object(i.c)(Ut);return Object(u.jsxs)("div",{className:"login-form-menu",children:[a?Object(u.jsx)("div",{className:"block",children:a}):"",Object(u.jsxs)("form",{className:"box has-background-light p-4",onSubmit:function(e){e.preventDefault();var s=e.target.author.value,a=e.target.content.value;r(n({postid:t,author:s,content:a}));for(var i=0;i<c.length;i++)c[i]()},children:[Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between mb-3",children:[Object(u.jsx)("div",{className:"subtitle mb-0",children:"Comment your thought"}),Object(u.jsx)("button",{onClick:s,className:"delete"})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-success",name:"author",type:"text",placeholder:"username"})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-success",name:"content",type:"text",placeholder:"comment content"})})}),Object(u.jsx)("div",{className:"is-flex is-justify-content-flex-end",children:Object(u.jsx)("button",{type:"submit",className:"button is-success",children:"Post Comment"})})]})]})},qt=function(e){var t=e.postid,s=Object(i.b)(),c=Object(n.useState)(!1),r=Object(d.a)(c,2),a=r[0],o=r[1],l=Object(i.c)(Wt),j=Object(i.c)(Mt),b=Object(i.c)(Tt);return l?Object(u.jsx)(Le,{title:"Cannot create comment",error:j}):b?Object(u.jsx)(Pe,{message:"Posting comment, please wait"}):Object(u.jsx)("div",{className:"is-flex is-flex-direction-column is-align-items-center mt-5",children:a?Object(u.jsx)(Xt,{postid:t,actionOnClick:function(){o(!1)},submitAction:At,additionalActions:[function(){s(St(t))}]}):Object(u.jsx)("div",{children:Object(u.jsx)(Zt,{actionOnClick:function(){o(!0)}})})})},Kt=s(14),_t=function(e){return Kt.create({baseURL:"https://blooming-tor-01512.herokuapp.com/",timeout:4e3,headers:{Authorization:"Bearer "+e}})},$t=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.currentPage,n=t.token,e.next=3,_t(n).get("post/personal?p="+s);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),es=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,n=t.id,e.next=3,_t(s).delete("post/".concat(n));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ts=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,n=t.data,e.next=3,_t(s).post("post",n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ss=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,n=t.id,c=t.data,e.next=3,_t(s).put("post/".concat(n),c);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ns=Object(O.b)("managePost/loadPersonalPostList",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentPage,c=t.token,r=s.rejectWithValue,e.next=4,C($t,{currentPage:n,token:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),cs=Object(O.b)("managePost/deletePost",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,c=t.id,r=s.rejectWithValue,e.next=4,C(es,{token:n,id:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),rs=Object(O.b)("managePost/createPost",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,c=t.data,r=s.rejectWithValue,e.next=4,C(ts,{token:n,data:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),as=Object(O.b)("managePost/updatePost",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,c=t.id,r=t.data,a=s.rejectWithValue,e.next=4,C(ss,{token:n,id:c,data:r},a);case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),is=Object(O.c)({name:"managePost",initialState:{postList:{data:[],count:0},isLoadingList:!1,hasErrorList:!1,isDeletingPost:!1,hasErrorDeletePost:!1,deletePostSuccess:!1,isCreatingPost:!1,hasErrorCreatePost:!1,createPostSuccess:!1,isUpdatingPost:!1,hasErrorUpdatePost:!1,updatePostSuccess:!1,errorMessage:""},reducers:{turnOffDeletePostSuccess:function(e){e.deletePostSuccess=!1},turnOffCreatePostSuccess:function(e){e.createPostSuccess=!1,e.hasErrorCreatePost=!1},turnOffUpdatePostSuccess:function(e){e.updatePostSuccess=!1,e.hasErrorUpdatePost=!1}},extraReducers:function(e){e.addCase(ns.pending,(function(e){e.isLoadingList=!0,e.hasErrorList=!1})).addCase(ns.fulfilled,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!1,e.postList.data=t.payload.data.posts,e.postList.count=t.payload.data.count})).addCase(ns.rejected,(function(e,t){e.isLoadingList=!1,e.hasErrorList=!0,console.log(t.payload.error),e.errorMessage=t.payload.error})).addCase(cs.pending,(function(e){e.isDeletingPost=!0,e.hasErrorDeletePost=!1})).addCase(cs.fulfilled,(function(e){e.isDeletingPost=!1,e.hasErrorDeletePost=!1,e.deletePostSuccess=!0})).addCase(cs.rejected,(function(e,t){e.isDeletingPost=!1,e.hasErrorDeletePost=!0,e.errorMessage=t.payload.error})).addCase(rs.pending,(function(e){e.isCreatingPost=!0,e.hasErrorCreatePost=!1,e.createPostSuccess=!1})).addCase(rs.fulfilled,(function(e,t){e.isCreatingPost=!1,e.hasErrorCreatePost=!1,e.createPostSuccess=!0,console.log(t.payload)})).addCase(rs.rejected,(function(e,t){e.isCreatingPost=!1,e.hasErrorCreatePost=!0,e.createPostSuccess=!1,e.errorMessage=t.payload.error[0].msg,console.log(t.payload.error[0].msg)})).addCase(as.pending,(function(e){e.isUpdatingPost=!0,e.hasErrorUpdatePost=!1,e.updatePostSuccess=!1})).addCase(as.fulfilled,(function(e){e.isUpdatingPost=!1,e.hasErrorUpdatePost=!1,e.updatePostSuccess=!0})).addCase(as.rejected,(function(e,t){e.isUpdatingPost=!1,e.hasErrorUpdatePost=!0,e.updatePostSuccess=!1,e.errorMessage=t.payload.error[0].msg}))}}),os=function(e){return e.managePost.errorMessage},ls=function(e){return e.managePost.hasErrorList},us=function(e){return e.managePost.isLoadingList},js=function(e){return e.managePost.postList},ds=function(e){return e.managePost.hasErrorDeletePost},bs=function(e){return e.managePost.isDeletingPost},hs=function(e){return e.managePost.deletePostSuccess},ms=function(e){return e.managePost.hasErrorCreatePost},Os=function(e){return e.managePost.isCreatingPost},ps=function(e){return e.managePost.createPostSuccess},xs=function(e){return e.managePost.hasErrorUpdatePost},fs=function(e){return e.managePost.isUpdatingPost},gs=function(e){return e.managePost.updatePostSuccess},vs=is.actions,Ns=vs.turnOffDeletePostSuccess,ks=vs.turnOffCreatePostSuccess,ys=vs.turnOffUpdatePostSuccess,ws=is.reducer,Cs=function(e){var t=e.message;return Object(u.jsxs)("div",{className:"box",children:[Object(u.jsx)("div",{className:"loader is-loading mb-5"}),Object(u.jsx)("div",{className:"subtitle",children:t})]})},Ls=function(e){var t=e.error;return console.log(t),Object(u.jsx)("div",{className:"box has-background-danger has-text-light",children:t})},Es=function(e){var t=e.state,s=e.actionClose,n=e.id,c=Object(i.b)(),r=Object(i.c)(bs),a=Object(i.c)(ds),o=Object(i.c)(os),j=Object(i.c)(H);return Object(i.c)(hs)?Object(u.jsx)(l.a,{to:"/manage/post"}):Object(u.jsxs)("div",{className:"modal ".concat(t?"is-active":""),children:[Object(u.jsx)("div",{onClick:s,className:"modal-background"}),Object(u.jsx)("div",{className:"modal-content",children:Object(u.jsxs)("form",{className:"box",onSubmit:function(e){e.preventDefault(),c(cs({token:j,id:n}))},children:[r?Object(u.jsx)(Cs,{message:"Deleting the post"}):"",a?Object(u.jsx)(Ls,{error:o}):"",Object(u.jsx)("div",{className:"title",children:"Are you sure that you want to delete your post?"}),Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"button",onClick:s,className:"button is-dark",children:"Cancel"})}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"submit",className:"button is-danger",children:"Delete post"})})]})]})}),Object(u.jsx)("button",{onClick:s,className:"modal-close is-large","aria-label":"close"})]})},Ps=function(){var e=Object(i.b)(),t=Object(l.h)().postid,s=Object(i.c)($e),c=Object(i.c)(Ke),r=Object(i.c)(_e),a=Object(i.c)(Fe),j=Object(i.c)(hs),b=Object(i.c)(Q),h=Object(i.c)(G),m=Object(n.useState)(!1),O=Object(d.a)(m,2),p=O[0],x=O[1];return Object(n.useEffect)((function(){e(Ge(t))}),[]),Object(n.useEffect)((function(){j&&e(Ns())}),[j]),c?Object(u.jsx)(zt,{error:a}):r||0===Object.keys(s).length?Object(u.jsx)(Ft,{}):Object(u.jsxs)("div",{className:"container is-fluid",children:[b&&s.author._id===h._id?Object(u.jsxs)("div",{className:"box mt-2 p-2 container custom-container is-flex has-background-grey-light",children:[Object(u.jsx)(o.b,{to:"/manage/post/update/".concat(t),children:Object(u.jsx)("button",{className:"button mr-2 is-primary",children:"Update post"})}),Object(u.jsx)("button",{onClick:function(){x(!0)},className:"button is-danger",children:"Delete post"})]}):"",Object(u.jsx)(Es,{state:p,actionClose:function(){x(!1)},id:t}),Object(u.jsx)(Gt,{post:s}),Object(u.jsx)(Ht,{postid:t}),Object(u.jsx)(qt,{postid:t})]})},Ss=function(){var e=Object(l.i)(),t=e.path;e.url;return Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:t,children:Object(u.jsx)(ht,{})}),Object(u.jsx)(l.b,{exact:!0,path:"".concat(t,"/search"),children:Object(u.jsx)(wt,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/:postid"),children:Object(u.jsx)(Ps,{})})]})},As=function(){return Object(u.jsx)(Pe,{message:"Loading your information"})},Ds=s(14),Ms=function(e){return Ds.create({baseURL:"https://blooming-tor-01512.herokuapp.com/",timeout:3e3,headers:{Authorization:"Bearer "+e}})},Us=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,n=t.data,e.next=3,Ms(s).put("blogger",n);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Is=function(){var e=Object(m.a)(h.a.mark((function e(t){var s,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.token,n=t.data,console.log(n),e.next=4,Ms(s).delete("blogger",{data:n});case 4:return c=e.sent,e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rs=Object(O.b)("manageUser/changeInfo",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,c=t.data,r=s.rejectWithValue,e.next=4,C(Us,{token:n,data:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Bs=Object(O.b)("manageUser/deleteUser",function(){var e=Object(m.a)(h.a.mark((function e(t,s){var n,c,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.token,c=t.data,r=s.rejectWithValue,e.next=4,C(Is,{token:n,data:c},r);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()),Ws=Object(O.c)({name:"manageUser",initialState:{isChangingInfo:!1,hasErrorChangingInfo:!1,changeInfoSuccess:!1,isDeletingUser:!1,hasErrorDeletingUser:!1,deleteUserSuccess:!1,errorMessage:""},reducers:{turnOffChangeInfoSuccess:function(e){e.changeInfoSuccess=!1},turnOffDeleteUserSuccess:function(e){e.deleteUserSuccess=!1}},extraReducers:function(e){e.addCase(Rs.pending,(function(e){e.isChangingInfo=!0,e.hasErrorChangingInfo=!1,e.changeInfoSuccess=!1})).addCase(Rs.fulfilled,(function(e){e.isChangingInfo=!1,e.hasErrorChangingInfo=!1,e.changeInfoSuccess=!0})).addCase(Rs.rejected,(function(e,t){e.isChangingInfo=!1,e.hasErrorChangingInfo=!0,e.changeInfoSuccess=!1,Array.isArray(t.payload.error)?e.errorMessage=t.payload.error[0].msg:e.errorMessage=t.payload.error})).addCase(Bs.pending,(function(e){e.isDeletingUser=!0,e.hasErrorDeletingUser=!1})).addCase(Bs.fulfilled,(function(e){e.isDeletingUser=!1,e.hasErrorDeletingUser=!1,e.deleteUserSuccess=!0})).addCase(Bs.rejected,(function(e,t){e.isDeletingUser=!1,e.hasErrorDeletingUser=!0,Array.isArray(t.payload.error)?e.errorMessage=t.payload.error[0].msg:e.errorMessage=t.payload.error}))}}),Ts=function(e){return e.manageUser.errorMessage},Vs=function(e){return e.manageUser.hasErrorChangingInfo},Js=function(e){return e.manageUser.isChangingInfo},Ys=function(e){return e.manageUser.changeInfoSuccess},Qs=function(e){return e.manageUser.hasErrorDeletingUser},Hs=function(e){return e.manageUser.isDeletingUser},Gs=function(e){return e.manageUser.deleteUserSuccess},zs=Ws.actions,Fs=zs.turnOffChangeInfoSuccess,Zs=zs.turnOffDeleteUserSuccess,Xs=Ws.reducer,qs=function(e){var t=e.error;return Object(u.jsx)("div",{className:"box has-background-danger has-text-light",children:t})},Ks=function(e){var t=e.state,s=e.actionClose,c=Object(n.useState)(!1),r=Object(d.a)(c,2),a=r[0],o=r[1],l=Object(i.b)(),j=Object(i.c)(Js),b=Object(i.c)(Ys),h=Object(i.c)(Vs),m=Object(i.c)(Ts),O=Object(i.c)(H);return b&&setTimeout((function(){l(Fs())}),2e3),Object(u.jsxs)("div",{className:"modal ".concat(t?"is-active":""),children:[Object(u.jsx)("div",{onClick:s,className:"modal-background"}),Object(u.jsx)("div",{className:"modal-content",children:Object(u.jsxs)("form",{className:"box",onSubmit:function(e){e.preventDefault();var t=e.target.password.value,s=e.target.repassword.value,n=e.target.motto.value,c=e.target.oldpassword.value;t!==s?o(!0):(o(!1),l(Rs({token:O,data:{password:t,motto:n,oldpassword:c}})))},children:[Object(u.jsx)("div",{className:"title",children:"Want to update your information?"}),Object(u.jsx)("div",{className:"subtitle",children:"Leave the fields empty if you do not want to update them"}),a?Object(u.jsx)(qs,{error:"New passwords are not similar"}):"",j?Object(u.jsx)(Cs,{message:"Updating"}):"",h?Object(u.jsx)(qs,{error:m}):"",b?Object(u.jsx)(ut,{children:"Information changed"}):"",Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"New Motto"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",name:"motto",type:"text"})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Current password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",name:"oldpassword",type:"password"})})]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"New password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",name:"password",type:"password"})}),Object(u.jsx)("p",{className:"help",children:"minimum 6 characters"})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Retype new password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",name:"repassword",type:"password"})})]}),Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"button",onClick:s,className:"button is-dark",children:"Cancel"})}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"submit",className:"button is-danger",children:"Submit changes"})})]})]})}),Object(u.jsx)("button",{onClick:s,className:"modal-close is-large","aria-label":"close"})]})},_s=function(e){var t=e.error;return Object(u.jsx)("div",{className:"box has-background-danger has-text-light",children:t})},$s=function(e){var t=e.state,s=e.actionClose,n=Object(i.b)(),c=Object(i.c)(Hs),r=Object(i.c)(Gs),a=Object(i.c)(Qs),o=Object(i.c)(Ts),l=Object(i.c)(H);return r&&(n(Zs()),n($())),Object(u.jsxs)("div",{className:"modal ".concat(t?"is-active":""),children:[Object(u.jsx)("div",{onClick:s,className:"modal-background"}),Object(u.jsx)("div",{className:"modal-content",children:Object(u.jsxs)("form",{className:"box",onSubmit:function(e){e.preventDefault(),console.log("herer");var t=e.target.password.value;n(Bs({token:l,data:{password:t}}))},children:[c?Object(u.jsx)(Cs,{message:"Deleting your account"}):"",a?Object(u.jsx)(_s,{error:o}):"",Object(u.jsx)("div",{className:"title",children:"Are you sure that you want to delete your account?"}),Object(u.jsx)("div",{className:"subtitle",children:"Enter password to authenticate the action"}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Password"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input",name:"password",type:"password"})})]}),Object(u.jsxs)("div",{className:"is-flex is-justify-content-space-between",children:[Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"button",onClick:s,className:"button is-dark",children:"Cancel"})}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{type:"submit",className:"button is-danger",children:"Delete account"})})]})]})}),Object(u.jsx)("button",{onClick:s,className:"modal-close is-large","aria-label":"close"})]})},en=function(e){var t=e.to;return Object(u.jsx)(o.b,{to:t,children:Object(u.jsx)("button",{type:"button",className:"button is-success",children:Object(u.jsx)("i",{className:"fas fa-chevron-left"})})})},tn=function(){var e=Object(i.b)(),t=Object(i.c)(H),s=Object(i.c)(G),c=Object(i.c)(F),r=Object(i.c)(Z),a=Object(n.useState)(!1),o=Object(d.a)(a,2),j=o[0],b=o[1],h=Object(n.useState)(!1),m=Object(d.a)(h,2),O=m[0],p=m[1];return Object(n.useEffect)((function(){e(U(t))}),[]),c||0===Object.keys(s).length?Object(u.jsx)(As,{}):r?Object(u.jsx)(l.a,{to:"/login"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(Ks,{state:j,actionClose:function(){b(!1)}}),Object(u.jsx)($s,{state:O,actionClose:function(){p(!1)},actionSubmit:function(){}}),Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsx)("div",{className:"mt-3",children:Object(u.jsx)(en,{to:"/manage"})}),Object(u.jsx)("div",{className:"container p-4",children:Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsxs)("div",{className:"column is-full-mobile is-three-fifths-mobile",children:[Object(u.jsxs)("div",{className:"title",children:[s.username," ",s.is_admin?Object(u.jsx)("span",{className:"subtitle is-6",children:" [ADMIN]"}):""]}),Object(u.jsxs)("div",{className:"subtitle",children:["Motto: ",s.motto]}),Object(u.jsxs)("div",{className:"content",children:[Object(u.jsxs)("p",{className:"subtitle",children:["Email: ",s.email]}),Object(u.jsx)("div",{className:"is-flex is-align-items-center",children:Object(u.jsxs)("div",{className:"mr-4",children:[Object(u.jsx)("span",{style:{color:"#ff003c"},children:Object(u.jsx)("i",{className:"fas fa-heart"})}),"  ",s.heart]})})]})]}),Object(u.jsx)("div",{className:"column box is-full-mobile is-two-fifths-tablet mt-4",children:Object(u.jsxs)("aside",{className:"menu",children:[Object(u.jsx)("p",{className:"menu-label is-size-5",children:"Options"}),Object(u.jsxs)("ul",{className:"menu-list",children:[Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#",onClick:function(){b(!0)},children:"Change your info"})}),Object(u.jsx)("li",{children:Object(u.jsx)("a",{href:"#",onClick:function(){p(!0)},children:"Delete account"})})]})]})})]})})]})]})},sn=function(){var e=Object(l.i)(),t=e.path;e.url;return Object(u.jsx)(l.d,{children:Object(u.jsx)(l.b,{exact:!0,path:t,children:Object(u.jsx)(tn,{})})})},nn=s(19),cn=function(e){var t=e.submitAction,s=Object(n.useRef)(null);return Object(u.jsxs)("form",{className:"mt-3",onSubmit:function(e){e.preventDefault();var n="true"===e.target.published.value,c={title:e.target.title.value,subtitle:e.target.subtitle.value,content:s.current.getContent(),published:n};t(c)},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Title"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"title",type:"text",placeholder:"The title of the post"})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Subtitle"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"subtitle",type:"text",placeholder:"anything"})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Content"}),Object(u.jsx)(nn.a,{apiKey:"utyf2dgcuevdc7238kyr6hiikehbsxqcu5nos9r1aa0t6ddv",onInit:function(e,t){return s.current=t},initialValue:"<p>This is the initial content of the editor.</p>",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"select is-primary",children:Object(u.jsxs)("select",{name:"published",children:[Object(u.jsx)("option",{value:"true",children:"Published"}),Object(u.jsx)("option",{value:"false",children:"Private"})]})})}),Object(u.jsx)("div",{className:"is-flex is-justify-content-flex-end is-align-content-center",children:Object(u.jsx)("button",{className:"button is-success",children:"Create post"})})]})},rn=function(){var e=Object(i.b)(),t=Object(i.c)(H),s=Object(i.c)(Os),c=Object(i.c)(ms),r=Object(i.c)(os),a=Object(i.c)(ps);return Object(n.useEffect)((function(){a&&setTimeout((function(){e(ks())}),2e3)}),[a]),console.log(r),Object(u.jsxs)("div",{className:"container custom-container pt-3",children:[s?Object(u.jsx)(Cs,{message:"Creating post"}):"",c?Object(u.jsx)(Ls,{error:r}):"",a?Object(u.jsx)("div",{className:"box has-background-success",children:"Post created"}):"",Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)(en,{to:"/manage/post"}),Object(u.jsx)("span",{className:"ml-3 title",children:"Create a new post"})]}),Object(u.jsx)(cn,{submitAction:function(s){e(rs({token:t,data:s}))}})]})},an=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),s=t[0],c=t[1];return Object(u.jsxs)("div",{className:"dropdown mb-2 ".concat(s?"is-active":""),children:[Object(u.jsx)("div",{className:"dropdown-trigger",children:Object(u.jsxs)("button",{onClick:function(){c(!s)},className:"button","aria-haspopup":"true","aria-controls":"dropdown-menu",children:[Object(u.jsx)("span",{children:"Options"}),Object(u.jsx)("span",{className:"icon is-small",children:Object(u.jsx)("i",{className:"fas fa-angle-down","aria-hidden":"true"})})]})}),Object(u.jsx)("div",{className:"dropdown-menu",id:"dropdown-menu",role:"menu",children:Object(u.jsx)("div",{className:"dropdown-content",children:Object(u.jsx)(o.b,{to:"/manage/post/create",className:"dropdown-item",children:"Create a post"})})})]})},on=function(){return Object(u.jsx)(Pe,{message:"Loading your personal posts"})},ln=function(){var e=Object(i.b)(),t=Object(n.useState)(1),s=Object(d.a)(t,2),c=s[0],r=s[1],a=Object(i.c)(js),o=Object(i.c)(H),l=Object(i.c)(us),j=Object(i.c)(ls),b=Object(i.c)(os);return Object(n.useEffect)((function(){e(ns({currentPage:c,token:o}))}),[c]),l?Object(u.jsx)(on,{}):Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsxs)("div",{className:"mt-3 is-flex is-justify-content-space-between",children:[Object(u.jsx)(en,{to:"/manage"}),Object(u.jsx)(an,{})]}),Object(u.jsx)(ut,{children:"Your posts from newest to oldest"}),j?Object(u.jsx)(Ls,{error:b}):Object(u.jsxs)("section",{className:"section has-background-light p-5",children:[Object(u.jsx)(Te,{posts:a.data}),Object(u.jsx)(oe,{page:c,setPage:r,maxPage:re(a.count,10)})]})]})},un=function(e){var t=e.post,s=e.submitAction,c=Object(n.useState)(t.title),r=Object(d.a)(c,2),a=r[0],o=r[1],l=Object(n.useState)(t.subtitle),j=Object(d.a)(l,2),b=j[0],h=j[1],m=Object(i.c)(fs),O=Object(i.c)(xs),p=Object(i.c)(os),x=Object(i.c)(gs),f=Object(i.b)(),g=Object(n.useRef)(null);return Object(n.useEffect)((function(){g.current&&g.current.setContent(t.content)}),[g.current]),Object(n.useEffect)((function(){setTimeout((function(){f(ys())}),2e3)}),[x]),Object(u.jsxs)("form",{className:"mt-3",onSubmit:function(e){e.preventDefault();var t="true"===e.target.published.value,n={title:e.target.title.value,subtitle:e.target.subtitle.value,content:g.current.getContent(),published:t};s(n)},children:[m?Object(u.jsx)(Cs,{message:"Updating post"}):"",O?Object(u.jsx)(Ls,{error:p}):"",x?Object(u.jsx)("div",{className:"box has-background-success",children:"Post updated"}):"",Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Title"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"title",onChange:function(e){o(e.target.value)},type:"text",value:a})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Subtitle"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("input",{className:"input is-medium is-link",name:"subtitle",onChange:function(e){h(e.target.value)},type:"text",value:b})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)(at,{text:"Content"}),Object(u.jsx)(nn.a,{apiKey:"utyf2dgcuevdc7238kyr6hiikehbsxqcu5nos9r1aa0t6ddv",onInit:function(e,t){return g.current=t},initialValue:"<p>This is the initial content of the editor.</p>",init:{height:500,menubar:!1,plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar:"undo redo | formatselect | bold italic backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | removeformat | help",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"}})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("div",{className:"select is-primary",children:Object(u.jsxs)("select",{name:"published",children:[Object(u.jsx)("option",{value:"true",children:"Published"}),Object(u.jsx)("option",{value:"false",children:"Private"})]})})}),Object(u.jsx)("div",{className:"is-flex is-justify-content-flex-end is-align-content-center",children:Object(u.jsx)("button",{className:"button is-success",children:"Update post"})})]})},jn=function(){var e=Object(i.b)(),t=Object(l.h)().postid,s=Object(i.c)($e),c=Object(i.c)(Ke),r=Object(i.c)(_e),a=Object(i.c)(Fe),o=Object(i.c)(H);return Object(n.useEffect)((function(){e(Ge(t))}),[]),c?Object(u.jsx)(zt,{error:a}):r||0===Object.keys(s).length?Object(u.jsx)(Ft,{}):Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsxs)("div",{className:"mt-3",children:[Object(u.jsx)(en,{to:"/post/".concat(t),message:"to post menu"}),Object(u.jsx)("span",{className:"title ml-3",children:"Update your post"})]}),Object(u.jsx)(un,{post:s,submitAction:function(s){e(as({token:o,id:t,data:s}))}})]})},dn=function(){var e=Object(l.i)(),t=e.path;e.url;return Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:t,children:Object(u.jsx)(ln,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/create"),children:Object(u.jsx)(rn,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/update/:postid"),children:Object(u.jsx)(jn,{})})]})},bn=function(){var e=Object(i.c)(G);return Object(u.jsxs)("div",{className:"container custom-container",children:[Object(u.jsxs)("div",{className:"box mt-3",children:["Welcome to the dashboard for bloggers! ",e.username]}),Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsx)("div",{className:"column",children:Object(u.jsx)(o.b,{to:"/manage/account",children:Object(u.jsx)("div",{className:"box has-background-light has-text-link-dark is-size-4 m-2 has-text-centered",children:"Manage your account"})})}),Object(u.jsx)("div",{className:"column",children:Object(u.jsx)(o.b,{to:"/manage/post",children:Object(u.jsx)("div",{className:"box has-background-light has-text-link-dark is-size-4 m-2 has-text-centered",children:"Manage your posts"})})})]})]})},hn=function(){var e=Object(l.i)(),t=e.path;e.url;return Object(i.c)(Q)?Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{exact:!0,path:t,children:Object(u.jsx)(bn,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/account"),children:Object(u.jsx)(sn,{})}),Object(u.jsx)(l.b,{path:"".concat(t,"/post"),children:Object(u.jsx)(dn,{})})]}):Object(u.jsx)(l.a,{to:"/login"})},mn=window.localStorage,On=function(){var e=Object(i.b)();return Object(n.useEffect)((function(){var t=mn.getItem("token");t&&e(I(t))}),[]),Object(u.jsx)(o.a,{children:Object(u.jsxs)("div",{className:"full-height-screen is-flex is-flex-direction-column custom-has-navbar-fixed-top",children:[Object(u.jsx)(ce,{}),Object(u.jsxs)(l.d,{children:[Object(u.jsx)(l.b,{path:"/",exact:!0,children:Object(u.jsx)(ct,{})}),Object(u.jsx)(l.b,{path:"/contact",children:Object(u.jsx)(Ie,{})}),Object(u.jsx)(l.b,{path:"/login",children:Object(u.jsx)(lt,{})}),Object(u.jsx)(l.b,{path:"/signup",children:Object(u.jsx)(xt,{})}),Object(u.jsx)(l.b,{path:"/post",children:Object(u.jsx)(Ss,{})}),Object(u.jsx)(l.b,{path:"/blogger",children:Object(u.jsx)(yt,{})}),Object(u.jsx)(l.b,{path:"/manage",children:Object(u.jsx)(hn,{})})]}),Object(u.jsx)(j,{})]})})},pn=Object(O.a)({reducer:{blogger:Ce,post:et,comment:Vt,user:ee,manageUser:Xs,managePost:ws}});var xn=function(){return Object(u.jsx)(i.a,{store:pn,children:Object(u.jsx)(On,{})})};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(xn,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.48f562de.chunk.js.map